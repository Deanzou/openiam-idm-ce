use openiam;

ALTER TABLE REPORT_INFO ADD RESOURCE_ID NVARCHAR(32) NULL;
ALTER TABLE REPORT_INFO ADD CONSTRAINT REPORT_INFO_RES_FK FOREIGN KEY (RESOURCE_ID) REFERENCES RES(RESOURCE_ID);

delete from LANGUAGE_MAPPING
where ID in ('DEMetadataTypeEntity10','DEMetadataTypeEntity20',
             'DEMetadataTypeEntity59','DEMetadataTypeEntity60',
			 'DEMetadataTypeEntity84',
             'ESMetadataTypeEntity10','ESMetadataTypeEntity20',
             'ESMetadataTypeEntity59','ESMetadataTypeEntity60',
			 'ESMetadataTypeEntity84',
             'RUMetadataTypeEntity82','RUMetadataTypeEntity83',
             'RUMetadataTypeEntity84','RUMetadataTypeEntity85',
             'RUMetadataTypeEntity87');

INSERT INTO LANGUAGE_MAPPING (ID,LANGUAGE_ID,REFERENCE_ID,REFERENCE_TYPE,TEXT_VALUE) VALUES ('RUABOUT_DESC','8','ABOUT','ResourceEntity.displayNameMap','РћР± OpenIAM');
INSERT INTO LANGUAGE_MAPPING (ID,LANGUAGE_ID,REFERENCE_ID,REFERENCE_TYPE,TEXT_VALUE) VALUES ('RUABOUT_ROOT_MENU_DESC','8','ABOUT_ROOT_MENU','ResourceEntity.displayNameMap','РћР± OpenIAM');
INSERT INTO LANGUAGE_MAPPING (ID,LANGUAGE_ID,REFERENCE_ID,REFERENCE_TYPE,TEXT_VALUE) VALUES ('RUSYNCUSER_REVIEW_DESC','8','SYNCUSER_REVIEW','ResourceEntity.displayNameMap','РџСЂРѕРІРµСЂРєР° СЃРёС…СЂРѕРЅРёР·Р°С†РёРё');

IF OBJECT_ID ( 'SETUP_CONTENT_PROVIDERS', 'P' ) IS NOT NULL 
    DROP PROCEDURE SETUP_CONTENT_PROVIDERS;
GO
CREATE PROCEDURE SETUP_CONTENT_PROVIDERS
	@cpDomain NVARCHAR(255), 
	@serverDomain NVARCHAR(255)
AS
	IF NOT EXISTS (SELECT * FROM CONTENT_PROVIDER) 
	BEGIN
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC, URL) VALUES('DEFAULT_CP', 'CONTENT_PROVIDER', 'Default Content Provider', 'Y', 'http://' + @cpDomain + '/selfservice');
		INSERT INTO CONTENT_PROVIDER (CONTENT_PROVIDER_ID, CONTENT_PROVIDER_NAME, IS_PUBLIC, DOMAIN_PATTERN, IS_SSL, RESOURCE_ID, MANAGED_SYS_ID) 
							   VALUES('DEFAULT_CP', 'Default Content Provider', 'Y', @cpDomain, NULL, 'DEFAULT_CP', '0');
		INSERT INTO CP_AUTH_LEVEL_GRP_XREF (CONTENT_PROVIDER_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES ('DEFAULT_CP', 'PASSWORD_AUTH', 0);
		INSERT INTO CONTENT_PROVIDER_SERVER (CONTENT_PROVIDER_SERVER_ID, CONTENT_PROVIDER_ID, SERVER_URL) VALUES ('DEFAULT_CP', 'DEFAULT_CP', @serverDomain);					   
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('DEF_CP_SELSERVICE_SLASH', 'URL_PATTERN', 'Default Content Provider /selfservice/*', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('DEF_CP_SELSERVICE_SLASH', 'DEFAULT_CP', '/selfservice/*', 'Y', 'DEF_CP_SELSERVICE_SLASH');
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('DEF_CP_WEBCONSOLE_AM_SLASH', 'URL_PATTERN', 'Default Content Provider /webconsole-am/*', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('DEF_CP_WEBCONSOLE_AM_SLASH', 'DEFAULT_CP', '/webconsole-am/*', 'Y', 'DEF_CP_WEBCONSOLE_AM_SLASH');
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('DEF_CP_WEBCONSOLE_IDM_SLASH', 'URL_PATTERN', 'Default Content Provider /webconsole-idm/*', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('DEF_CP_WEBCONSOLE_IDM_SLASH', 'DEFAULT_CP', '/webconsole-idm/*', 'Y', 'DEF_CP_WEBCONSOLE_IDM_SLASH');
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('DEF_CP_WEBCONSOLE_SLASH', 'URL_PATTERN', 'Default Content Provider /webconsole/*', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('DEF_CP_WEBCONSOLE_SLASH', 'DEFAULT_CP', '/webconsole/*', 'Y', 'DEF_CP_WEBCONSOLE_SLASH');
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('NEW_USER_TEMPLATE', 'UI_TEMPLATE', 'New User Template', 'Y');
		INSERT INTO METADATA_ELEMENT_PAGE_TEMPLATE (ID, NAME, RESOURCE_ID, IS_PUBLIC, TEMPLATE_TYPE_ID) VALUES('NEW_USER_TEMPLATE', 'New User Template', 'NEW_USER_TEMPLATE', 'Y', 'USER_TEMPLATE');
		INSERT INTO METADATA_URI_XREF (TEMPLATE_ID, URI_PATTERN_ID) VALUES('NEW_USER_TEMPLATE', 'DEF_CP_SELSERVICE_SLASH');
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('SELFREG_PATTERN', 'URL_PATTERN', 'Default Content Provider /selfservice/selfRegistration.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('SELFREG_PATTERN', 'DEFAULT_CP', '/selfservice/selfRegistration.html', 'Y', 'SELFREG_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('SELFREG_PATTERN', 'NONE', 0);
		INSERT INTO METADATA_URI_XREF (TEMPLATE_ID, URI_PATTERN_ID) VALUES('NEW_USER_TEMPLATE', 'SELFREG_PATTERN');
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('UI_STATIC', 'URL_PATTERN', 'Default Content Provider /openiam-ui-static/*', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('UI_STATIC', 'DEFAULT_CP', '/openiam-ui-static/*', 'Y', 'UI_STATIC');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('UI_STATIC', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('CHANGE_PASSWORD', 'URL_PATTERN', 'Default Content Provider /idp/changePassword.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('CHANGE_PASSWORD', 'DEFAULT_CP', '/idp/changePassword.html', 'Y', 'CHANGE_PASSWORD');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('CHANGE_PASSWORD', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('UNLOCK_PASSWORD', 'URL_PATTERN', 'Default Content Provider /idp/unlockPassword.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('UNLOCK_PASSWORD', 'DEFAULT_CP', '/idp/unlockPassword.html', 'Y', 'UNLOCK_PASSWORD');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('UNLOCK_PASSWORD', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('LOGOUT_PATTERN', 'URL_PATTERN', 'Default Content Provider /idp/logout.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('LOGOUT_PATTERN', 'DEFAULT_CP', '/idp/logout.html', 'Y', 'LOGOUT_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('LOGOUT_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('SAML_LOGIN_PATTERN', 'URL_PATTERN', 'Default Content Provider /idp/SAMLLogin.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('SAML_LOGIN_PATTERN', 'DEFAULT_CP', '/idp/SAMLLogin.html', 'Y', 'SAML_LOGIN_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('SAML_LOGIN_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('SAML_METADATA_PATTERN', 'URL_PATTERN', 'Default Content Provider /idp/SAMLMetadata.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('SAML_METADATA_PATTERN', 'DEFAULT_CP', '/idp/SAMLMetadata.html', 'Y', 'SAML_METADATA_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('SAML_METADATA_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('UNLOCK_PASSWORD_QUESTIONS', 'URL_PATTERN', 'Default Content Provider /idp/unlockPasswordQuestions.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('UNLOCK_PASSWORD_QUESTIONS', 'DEFAULT_CP', '/idp/unlockPasswordQuestions.html', 'Y', 'UNLOCK_PASSWORD_QUESTIONS');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('UNLOCK_PASSWORD_QUESTIONS', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('UNLOCK_USER_RESET_FORM', 'URL_PATTERN', 'Default Content Provider /idp/unlockUserResetPasswordForm.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('UNLOCK_USER_RESET_FORM', 'DEFAULT_CP', '/idp/unlockUserResetPasswordForm.html', 'Y', 'UNLOCK_USER_RESET_FORM');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('UNLOCK_USER_RESET_FORM', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('WEBCONSOLE_CLEAR_CNTX', 'URL_PATTERN', 'Default Content Provider /webconsole/clearContext.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('WEBCONSOLE_CLEAR_CNTX', 'DEFAULT_CP', '/webconsole/clearContext.html', 'Y', 'WEBCONSOLE_CLEAR_CNTX');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('WEBCONSOLE_CLEAR_CNTX', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('WEBCONSOLE_AM_CLEAR_CNTX', 'URL_PATTERN', 'Default Content Provider /webconsole-am/clearContext.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('WEBCONSOLE_AM_CLEAR_CNTX', 'DEFAULT_CP', '/webconsole-am/clearContext.html', 'Y', 'WEBCONSOLE_AM_CLEAR_CNTX');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('WEBCONSOLE_AM_CLEAR_CNTX', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('WEBCONSOLE_IDM_CLEAR_CNTX', 'URL_PATTERN', 'Default Content Provider /webconsole-idm/clearContext.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('WEBCONSOLE_IDM_CLEAR_CNTX', 'DEFAULT_CP', '/webconsole-idm/clearContext.html', 'Y', 'WEBCONSOLE_IDM_CLEAR_CNTX');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('WEBCONSOLE_IDM_CLEAR_CNTX', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('SELFSERVICE_CLEAR_CNTX', 'URL_PATTERN', 'Default Content Provider /selfservice/clearContext.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('SELFSERVICE_CLEAR_CNTX', 'DEFAULT_CP', '/selfservice/clearContext.html', 'Y', 'SELFSERVICE_CLEAR_CNTX');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('SELFSERVICE_CLEAR_CNTX', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('SELFSERVICE_EXT_CLEAR_CNTX', 'URL_PATTERN', 'Default Content Provider /selfservice-ext/clearContext.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('SELFSERVICE_EXT_CLEAR_CNTX', 'DEFAULT_CP', '/selfservice-ext/clearContext.html', 'Y', 'SELFSERVICE_EXT_CLEAR_CNTX');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('SELFSERVICE_EXT_CLEAR_CNTX', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('SEARCH_ORG_PATTERN', 'URL_PATTERN', 'Default Content Provider /selfservice/rest/api/entitlements/searchOrganizations', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('SEARCH_ORG_PATTERN', 'DEFAULT_CP', '/selfservice/rest/api/entitlements/searchOrganizations', 'Y', 'SEARCH_ORG_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('SEARCH_ORG_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('REPORTVIEWER_PATTERN', 'URL_PATTERN', 'Default Content Provider /reportviewer/*', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('REPORTVIEWER_PATTERN', 'DEFAULT_CP', '/reportviewer/*', 'Y', 'REPORTVIEWER_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('REPORTVIEWER_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('LANGUAGE_SUPPORT_PATTERN', 'URL_PATTERN', 'Default Content Provider /selfservice/language/languageSupport.html', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('LANGUAGE_SUPPORT_PATTERN', 'DEFAULT_CP', '/selfservice/language/languageSupport.html', 'Y', 'LANGUAGE_SUPPORT_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('LANGUAGE_SUPPORT_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('ROLE_METADATA_PATTERN', 'URL_PATTERN', 'Default Content Provider /selfservice/rest/api/metadata/roleMetadata', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('ROLE_METADATA_PATTERN', 'DEFAULT_CP', '/selfservice/rest/api/metadata/roleMetadata', 'Y', 'ROLE_METADATA_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('ROLE_METADATA_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('SEARCH_ROLES_PATTERN', 'URL_PATTERN', 'Default Content Provider /selfservice/rest/api/entitlements/searchRoles', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('SEARCH_ROLES_PATTERN', 'DEFAULT_CP', '/selfservice/rest/api/entitlements/searchRoles', 'Y', 'SEARCH_ROLES_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('SEARCH_ROLES_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('GROUP_METADATA_PATTERN', 'URL_PATTERN', 'Default Content Provider /selfservice/rest/api/metadata/groupMetadata', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('GROUP_METADATA_PATTERN', 'DEFAULT_CP', '/selfservice/rest/api/metadata/groupMetadata', 'Y', 'GROUP_METADATA_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('GROUP_METADATA_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('SEARCH_GROUPS_PATTERN', 'URL_PATTERN', 'Default Content Provider /selfservice/rest/api/entitlements/searchGroups', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('SEARCH_GROUPS_PATTERN', 'DEFAULT_CP', '/selfservice/rest/api/entitlements/searchGroups', 'Y', 'SEARCH_GROUPS_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('SEARCH_GROUPS_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('ORG_METADATA_PATTERN', 'URL_PATTERN', 'Default Content Provider /selfservice/rest/api/metadata/organizationMetadata', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('ORG_METADATA_PATTERN', 'DEFAULT_CP', '/selfservice/rest/api/metadata/organizationMetadata', 'Y', 'ORG_METADATA_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('ORG_METADATA_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('SP_PATTERN', 'URL_PATTERN', 'Default Content Provider /idp/sp/*', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('SP_PATTERN', 'DEFAULT_CP', '/idp/sp/*', 'Y', 'SP_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('SP_PATTERN', 'NONE', 0);
		
		INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, IS_PUBLIC) VALUES('PWD_VALIDATION_PATTERN', 'URL_PATTERN', 'Default Content Provider /idp/rest/api/password/validation/*', 'Y');
		INSERT INTO URI_PATTERN (URI_PATTERN_ID, CONTENT_PROVIDER_ID, PATTERN, IS_PUBLIC, RESOURCE_ID) VALUES('PWD_VALIDATION_PATTERN', 'DEFAULT_CP', '/idp/rest/api/password/validation/*', 'Y', 'SP_PATTERN');
		INSERT INTO URI_AUTH_LEVEL_GRP_XREF (URI_PATTERN_ID, AUTH_LEVEL_GROUPING_ID, EXEC_ORDER) VALUES('PWD_VALIDATION_PATTERN', 'NONE', 0);			
	END;
GO

DELETE FROM RESOURCE_GROUP WHERE RESOURCE_ID = 'SELF_REPORT_VIEWER';
DELETE FROM RESOURCE_USER WHERE RESOURCE_ID = 'SELF_REPORT_VIEWER';
DELETE FROM RESOURCE_ROLE WHERE RESOURCE_ID = 'SELF_REPORT_VIEWER';
DELETE FROM RESOURCE_PROP WHERE RESOURCE_ID = 'SELF_REPORT_VIEWER';
DELETE FROM res_to_res_membership WHERE MEMBER_RESOURCE_ID = 'SELF_REPORT_VIEWER';
DELETE FROM RES WHERE RESOURCE_ID = 'SELF_REPORT_VIEWER';
DELETE FROM LANGUAGE_MAPPING WHERE REFERENCE_ID='SELF_REPORT_VIEWER';

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, DISPLAY_ORDER, IS_PUBLIC, URL) 
	VALUES('SELF_REPORT_VIEWER', 'MENU_ITEM', 'SELF_REPORT_VIEWER', 'Report Viewer', 10, 'N', '/selfservice/report.html');

INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, ATTR_VALUE) VALUES ('SELF_REPORT_VIEWER_PUB', 'SELF_REPORT_VIEWER', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, ATTR_VALUE) VALUES ('SELF_REPORT_VIEWER_DESC', 'SELF_REPORT_VIEWER', 'MENU_DISPLAY_NAME', 'Report Viewer');

INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('SELFSERVICE_REPORT', 'SELF_REPORT_VIEWER');

DELETE FROM RESOURCE_ROLE WHERE ROLE_ID='9' and RESOURCE_ID='SELF_REPORT_VIEWER';
INSERT INTO RESOURCE_ROLE (ROLE_ID, RESOURCE_ID) VALUES('9', 'SELF_REPORT_VIEWER');

DELETE FROM LANGUAGE_MAPPING WHERE ID IN ('SELF_REPORT_VIEWER_DESC', 'DESELF_REPORT_VIEWER_DESC',
  'ESSELF_REPORT_VIEWER_DESC', 'RUSELF_REPORT_VIEWER_DESC', 'JPSELF_REPORT_VIEWER_DESC');

INSERT INTO LANGUAGE_MAPPING(ID, LANGUAGE_ID, REFERENCE_TYPE, REFERENCE_ID, TEXT_VALUE) VALUES
  ('SELF_REPORT_VIEWER_DESC', '1', 'ResourceEntity.displayNameMap', 'SELF_REPORT_VIEWER', 'Report Viewer'),
  ('DESELF_REPORT_VIEWER_DESC', '2', 'ResourceEntity.displayNameMap', 'SELF_REPORT_VIEWER', 'Report Viewer'),
  ('ESSELF_REPORT_VIEWER_DESC', '4', 'ResourceEntity.displayNameMap', 'SELF_REPORT_VIEWER', 'Report Viewer'),
  ('RUSELF_REPORT_VIEWER_DESC', '8', 'ResourceEntity.displayNameMap', 'SELF_REPORT_VIEWER', 'Просмотрщик Отчетов'),
  ('JPSELF_REPORT_VIEWER_DESC', '9', 'ResourceEntity.displayNameMap', 'SELF_REPORT_VIEWER', 'Report Viewer');

UPDATE RES SET DISPLAY_ORDER = 20 WHERE RESOURCE_ID = 'SUBSCRIBE';
UPDATE RES SET DISPLAY_ORDER = 30, DESCRIPTION = 'View Report Files' WHERE RESOURCE_ID = 'VIEW';

UPDATE LANGUAGE_MAPPING SET TEXT_VALUE = 'View Files' WHERE ID = 'VIEW_MENU_DESC';
UPDATE LANGUAGE_MAPPING SET TEXT_VALUE = 'Dateien anzeigen' WHERE ID = 'DEVIEW_MENU_DESC';
UPDATE LANGUAGE_MAPPING SET TEXT_VALUE = 'Ver archivos' WHERE ID = 'ESVIEW_MENU_DESC';
UPDATE LANGUAGE_MAPPING SET TEXT_VALUE = 'Просмотр Файлов' WHERE ID = 'RUVIEW_MENU_DESC';
UPDATE LANGUAGE_MAPPING SET TEXT_VALUE = 'ファイルの表示' WHERE ID = 'JPVIEW_MENU_DESC';

IF NOT EXISTS (SELECT * FROM RESOURCE_TYPE WHERE RESOURCE_TYPE_ID = 'REPORT') 
BEGIN
	INSERT INTO RESOURCE_TYPE (RESOURCE_TYPE_ID, DESCRIPTION, PROVISION_RESOURCE, PROCESS_NAME, SUPPORTS_HIERARCHY, SEARCHABLE, URL, IMAGE_TYPE)
		VALUES ('REPORT', 'Report', NULL, NULL, 'N', 'Y', 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAY9JREFUeNpiZC5lZgADRoY+IKnPQBy4yPCfoQjOE1NQYAitr0/7TyRgLmHeB8QMIMwINSPt7t27M+/du8cAwqmpqQz3n//AarWiFCcDazHLfiDTCUUioLIy8++/f////P2LF4PUMOcz7wdiBhDG6oLE5GSGh89/YneBNCcDez7rASDTEUXCo7Aw5xfQhh+/f+PFIDXMmcwHgJgBhLG6IDYhgeHhs19YXaAkx8XAmcl6EMh0QJFwSE8v+P7nz//PP37gxSA1TMlMB4GYAYSxuiA8Lo7hydPf2MNAnpOBN4X9MJBpB0k+UGAeG1uyZ+7c7t+/f+NNQaysrAz8iRxHgExbZANQXBAcHc3w5Mkf7GGgxMUgEItpAINuYGDFkRUr2n/+/InXBezs7AyCUZxHgUwbnC7wj4hgePrkL3YXKHMxCIdyHQMyrf+f+I+Q4NXVbf8EDOF3wJDGh0FqGO0YTzIKQuxmAWIhIJb6/POyHJ8Zyxmi8uIXhjsM7xl0gKxnIGM4QQ6AGkYKAIXyZ4AAAwDo2Ez5UkE+nAAAAABJRU5ErkJggg==', 'png');
END;

IF NOT EXISTS (SELECT * FROM LANGUAGE_MAPPING WHERE ID = 'REPORT') 
BEGIN
	INSERT INTO LANGUAGE_MAPPING(ID, LANGUAGE_ID, REFERENCE_ID, REFERENCE_TYPE, TEXT_VALUE) VALUES
	  ('REPORT', '1', 'REPORT', 'ResourceTypeEntity.displayNameMap', 'Report'),
	  ('DEREPORT', '2', 'REPORT', 'ResourceTypeEntity.displayNameMap', 'Bericht'),
	  ('ESREPORT', '4', 'REPORT', 'ResourceTypeEntity.displayNameMap', 'Informe'),
	  ('JPREPORT', '9', 'REPORT', 'ResourceTypeEntity.displayNameMap', '報告'),
	  ('RUREPORT', '8', 'REPORT', 'ResourceTypeEntity.displayNameMap', 'Отчет');
END;

IF NOT EXISTS (SELECT * FROM RES WHERE RESOURCE_ID = 'USER_REPORT_101') 
BEGIN
	INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, DESCRIPTION, NAME, DISPLAY_ORDER, URL, MIN_AUTH_LEVEL, IS_PUBLIC,
	    ADMIN_RESOURCE_ID, RISK, TYPE_ID, COORELATED_NAME) VALUES
	  ('USER_REPORT_101', 'REPORT', NULL, 'USER_REPORT_101', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'USER_REPORT'),
	  ('AUDIT_REPORT_102', 'REPORT', NULL, 'AUDIT_REPORT_102', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'AUDIT_REPORT'),
	  ('RECONCILIATION_REPORT_103', 'REPORT', NULL, 'RECONCILIATION_REPORT_103', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'RECONCILIATION_REPORT'),
	  ('SYNCHRONIZATION_REPORT_104', 'REPORT', NULL, 'SYNCHRONIZATION_REPORT_104', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'SYNCHRONIZATION_REPORT');
END;


UPDATE REPORT_INFO SET RESOURCE_ID = 'USER_REPORT_101' WHERE REPORT_INFO_ID = '101';
UPDATE REPORT_INFO SET RESOURCE_ID = 'AUDIT_REPORT_102' WHERE REPORT_INFO_ID = '102';
UPDATE REPORT_INFO SET RESOURCE_ID = 'RECONCILIATION_REPORT_103' WHERE REPORT_INFO_ID = '103';
UPDATE REPORT_INFO SET RESOURCE_ID = 'SYNCHRONIZATION_REPORT_104' WHERE REPORT_INFO_ID = '104';

DELETE FROM RESOURCE_ROLE WHERE RESOURCE_ID IN (
	'SELF_VIEW_REPORT_ROOT', 'VIEW', 'SELF_SUB_REPORT_NEW', 'SELF_SUB_REPORT_ROOT', 'SELF_VIEW_REPORT_NEW', 'SUBSCRIBE', 'SELF_REPORT_VIEWER');
DELETE FROM RESOURCE_GROUP WHERE RESOURCE_ID IN (
	'SELF_VIEW_REPORT_ROOT', 'VIEW', 'SELF_SUB_REPORT_NEW', 'SELF_SUB_REPORT_ROOT', 'SELF_VIEW_REPORT_NEW', 'SUBSCRIBE', 'SELF_REPORT_VIEWER');
DELETE FROM RESOURCE_USER WHERE RESOURCE_ID IN (
	'SELF_VIEW_REPORT_ROOT', 'VIEW', 'SELF_SUB_REPORT_NEW', 'SELF_SUB_REPORT_ROOT', 'SELF_VIEW_REPORT_NEW', 'SUBSCRIBE', 'SELF_REPORT_VIEWER');

UPDATE RES set IS_PUBLIC = 'N' WHERE RESOURCE_ID IN (
	'SELF_VIEW_REPORT_ROOT', 'VIEW', 'SELF_SUB_REPORT_NEW', 'SELF_SUB_REPORT_ROOT', 'SELF_VIEW_REPORT_NEW', 'SUBSCRIBE', 'SELF_REPORT_VIEWER', 'SELFSERVICE_REPORT');

UPDATE RES set URL = '/selfservice/report.html' WHERE RESOURCE_ID = 'SELFSERVICE_REPORT';

ALTER TABLE USER_IDENTITY_ANS ALTER COLUMN QUESTION_ANSWER NVARCHAR(1024) NULL;
ALTER TABLE USER_IDENTITY_ANS ADD DEFAULT 'NULL' FOR QUESTION_ANSWER;

ALTER TABLE MANAGED_SYS ALTER COLUMN PSWD NVARCHAR(512) NULL;
ALTER TABLE MANAGED_SYS ADD DEFAULT 'NULL' FOR PSWD;


IF NOT EXISTS (SELECT * FROM RES WHERE RESOURCE_ID = 'EMPLOYEE_CERT_REPORT_105') 
BEGIN
	INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, DESCRIPTION, NAME, DISPLAY_ORDER, URL, MIN_AUTH_LEVEL, IS_PUBLIC,
	  		ADMIN_RESOURCE_ID, RISK, TYPE_ID, COORELATED_NAME) VALUES
		('EMPLOYEE_CERT_REPORT_105', 'REPORT', NULL, 'EMPLOYEE_CERT_REPORT_105', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'EMPLOYEE_CERT_REPORT');
END;

IF NOT EXISTS (SELECT * FROM REPORT_INFO WHERE REPORT_INFO_ID = '105') 
BEGIN
	INSERT INTO REPORT_INFO (REPORT_INFO_ID, REPORT_NAME, DATASOURCE_FILE_PATH, REPORT_FILE_PATH, BUILT_IN, RESOURCE_ID) VALUES
		('105', 'EMPLOYEE_CERT_REPORT', 'EmployeeCertReport.groovy', 'EmployeeCertReport.rptdesign', 'Y', 'EMPLOYEE_CERT_REPORT_105');
END;

IF NOT EXISTS (SELECT * FROM REPORT_CRITERIA_PARAMETER WHERE RCP_ID IN ('1051','1052','1053','1054')) 
BEGIN
	INSERT INTO REPORT_CRITERIA_PARAMETER (RCP_ID, REPORT_INFO_ID, PARAM_NAME, PARAM_VALUE, RCPT_ID, PARAM_META_TYPE_ID, 
			IS_MULTIPLE, IS_REQUIRED, CAPTION) VALUES
		('1051', '105', 'MANAGER_ID', NULL, '1', 'USER', 'N', 'N', 'MANAGER_ID'),
		('1052', '105', 'EMPLOYEE_ID', NULL, '1', 'USER', 'N', 'N', 'EMPLOYEE_ID'),
		('1053', '105', 'PERIOD_START', NULL, '2', NULL, 'N', 'Y', 'PERIOD_START'),
		('1054', '105', 'PERIOD_END', NULL, '2', NULL, 'N', 'N', 'PERIOD_END');
END;

INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, NAME, DESCRIPTION, URL, DISPLAY_ORDER) VALUES('GROUP_IDENTITY', 'MENU_ITEM', 'GROUP_IDENTITY', 'Edit Identity Info','/webconsole/editGroupIdentity.html',3);
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, ATTR_VALUE) VALUES ('GROUP_IDENTITY_PUB', 'GROUP_IDENTITY', 'MENU_IS_PUBLIC', 'true');
INSERT INTO RESOURCE_PROP (RESOURCE_PROP_ID, RESOURCE_ID, NAME, ATTR_VALUE) VALUES ('GROUP_IDENTITY_DESC', 'GROUP_IDENTITY', 'MENU_DISPLAY_NAME', 'Identities');


INSERT INTO res_to_res_membership (RESOURCE_ID, MEMBER_RESOURCE_ID) VALUES('GROUP_EDIT_MENU', 'GROUP_IDENTITY');

INSERT INTO LANGUAGE_MAPPING (ID, LANGUAGE_ID, REFERENCE_ID, REFERENCE_TYPE, TEXT_VALUE) 
values ('GROUP_IDENTITY_DESC','1','GROUP_IDENTITY','ResourceEntity.displayNameMap','Identities'),
 ('ESGROUP_IDENTITY_DESC','4','GROUP_IDENTITY','ResourceEntity.displayNameMap','Identidades')
 
 UPDATE POLICY_ATTRIBUTE SET VALUE1='false' WHERE (VALUE1='0' AND NAME IN('REPEAT_SAME_WORD_PASSPHRASE', 'CHNG_PSWD_ON_RESET', 'RESET_BY_USER'));

UPDATE POLICY_ATTRIBUTE SET VALUE1='true' WHERE (VALUE1='1' AND NAME IN('REPEAT_SAME_WORD_PASSPHRASE', 'CHNG_PSWD_ON_RESET', 'RESET_BY_USER'));

IF NOT EXISTS (SELECT * FROM information_schema.columns WHERE TABLE_CATALOG='openiam' AND table_name = 'REPORT_CRITERIA_PARAMETER' AND column_name = 'DISPLAY_ORDER') 
BEGIN
	ALTER TABLE REPORT_CRITERIA_PARAMETER ADD DISPLAY_ORDER INT;
END;
IF NOT EXISTS (SELECT * FROM information_schema.columns WHERE TABLE_CATALOG='openiam' AND table_name = 'REPORT_CRITERIA_PARAMETER' AND column_name = 'REQUEST_PARAMS')
BEGIN
	ALTER TABLE REPORT_CRITERIA_PARAMETER ADD REQUEST_PARAMS NVARCHAR(512) NULL;
END;

GO
UPDATE REPORT_CRITERIA_PARAMETER SET DISPLAY_ORDER = 1 WHERE RCP_ID IN ('1011','1021','1031','1041','1051');
UPDATE REPORT_CRITERIA_PARAMETER SET DISPLAY_ORDER = 2 WHERE RCP_ID IN ('1012','1022','1042','1052');
UPDATE REPORT_CRITERIA_PARAMETER SET DISPLAY_ORDER = 3 WHERE RCP_ID IN ('1013','1023','1053');
UPDATE REPORT_CRITERIA_PARAMETER SET DISPLAY_ORDER = 4 WHERE RCP_ID IN ('1014','1024','1054');

IF NOT EXISTS (SELECT * FROM REPORT_PARAMETER_METATYPE WHERE PARAM_METATYPE_ID = 'RESOURCE') 
BEGIN
	INSERT INTO REPORT_PARAMETER_METATYPE (PARAM_METATYPE_ID, PARAM_METATYPE_NAME, IS_MULTIPLE) VALUES ('RESOURCE', 'Resource', 'Y');
END;

IF NOT EXISTS (SELECT * FROM RES WHERE RESOURCE_ID = 'RESOURCE_CERT_REPORT_106') 
BEGIN
	INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, DESCRIPTION, NAME, DISPLAY_ORDER, URL, MIN_AUTH_LEVEL, IS_PUBLIC,
	  		ADMIN_RESOURCE_ID, RISK, TYPE_ID, COORELATED_NAME) VALUES
		('RESOURCE_CERT_REPORT_106', 'REPORT', NULL, 'RESOURCE_CERT_REPORT_106', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'RESOURCE_CERT_REPORT');
END;

IF NOT EXISTS (SELECT * FROM REPORT_INFO WHERE REPORT_INFO_ID = '106') 
BEGIN
	INSERT INTO REPORT_INFO (REPORT_INFO_ID, REPORT_NAME, DATASOURCE_FILE_PATH, REPORT_FILE_PATH, BUILT_IN, RESOURCE_ID) VALUES
		('106', 'RESOURCE_CERT_REPORT', 'ResourceCertReport.groovy', 'ResourceCertReport.rptdesign', 'Y', 'RESOURCE_CERT_REPORT_106');
END;

IF NOT EXISTS (SELECT * FROM REPORT_CRITERIA_PARAMETER WHERE RCP_ID IN ('1061','1062','1063','1064')) 
BEGIN
	INSERT INTO REPORT_CRITERIA_PARAMETER (RCP_ID, REPORT_INFO_ID, PARAM_NAME, PARAM_VALUE, RCPT_ID, PARAM_META_TYPE_ID, 
			IS_MULTIPLE, IS_REQUIRED, CAPTION, DISPLAY_ORDER, REQUEST_PARAMS) VALUES
		('1061', '106', 'OWNER_ID', NULL, '1', 'USER', 'N', 'N', 'Owner', 1, NULL),
		('1062', '106', 'RES_ID', NULL, '1', 'RESOURCE', 'N', 'N', 'Admin Resource', 2, '{"resourceTypeId":"ADMIN_RESOURCE", "userId":"${OWNER_ID}"}'),
		('1063', '106', 'PERIOD_START', NULL, '2', NULL, 'N', 'Y', 'Period Start', 3, NULL),
		('1064', '106', 'PERIOD_END', NULL, '2', NULL, 'N', 'N', 'Period End', 4, NULL);
END;

ALTER TABLE POLICY_DEF_PARAM ALTER COLUMN VALUE1 nvarchar(3072);
ALTER TABLE POLICY_DEF_PARAM ALTER COLUMN VALUE2 nvarchar(3072);
ALTER TABLE POLICY_ATTRIBUTE DROP COLUMN NAME;
ALTER TABLE POLICY_ATTRIBUTE DROP COLUMN OPERATION;
ALTER TABLE POLICY_ATTRIBUTE ALTER COLUMN VALUE1 nvarchar(3072);
ALTER TABLE POLICY_ATTRIBUTE ALTER COLUMN VALUE2 nvarchar(3072);

UPDATE POLICY_DEF_PARAM SET OPERATION = 'select' WHERE NAME = 'QUEST_LIST';
UPDATE POLICY_DEF_PARAM SET VALUE2='QUESTION_BANK' WHERE NAME = 'QUEST_LIST';
UPDATE POLICY_ATTRIBUTE SET VALUE2='QUESTION_BANK' WHERE POLICY_ATTR_ID='4015';
UPDATE POLICY_DEF_PARAM SET OPERATION='boolean' WHERE NAME = 'CHNG_PSWD_ON_RESET';
UPDATE POLICY_DEF_PARAM SET OPERATION='boolean' WHERE NAME = 'RESET_BY_USER' ;
UPDATE POLICY_DEF_PARAM SET OPERATION='boolean' WHERE NAME = 'PWD_EQ_PWD';
UPDATE POLICY_DEF_PARAM SET OPERATION='boolean' WHERE NAME = 'REPEAT_SAME_WORD_PASSPHRASE' ;
UPDATE POLICY_DEF_PARAM SET OPERATION='String' WHERE POLICY_DEF_ID = '100' AND OPERATION IS NULL;

insert into "IDENTITY" (IDENTITY_ID,MANAGED_SYS_ID, "IDENTITY", REFERRED_OBJECT_ID, IDENTITY_TYPE, CREATE_DATE, CREATED_BY, STATUS) 
  select {fn CONCAT(GRP_NAME,'_0_GROUP')}, '0', GRP_NAME, GRP_ID, 'GROUP', GETDATE(), '3000', 'ACTIVE' from GRP where GRP.GRP_ID not in (select REFERRED_OBJECT_ID from "IDENTITY"); 
  
DELETE FROM LANGUAGE_MAPPING WHERE REFERENCE_ID = 'MNGSYSRULES';

DELETE FROM res_to_res_membership WHERE MEMBER_RESOURCE_ID = 'MNGSYSRULES';

DELETE FROM RESOURCE_PROP WHERE RESOURCE_ID = 'MNGSYSRULES';

DELETE FROM RESOURCE_ROLE WHERE RESOURCE_ID = 'MNGSYSRULES';

DELETE FROM RES WHERE RESOURCE_ID = 'MNGSYSRULES';

DELETE FROM POLICY_ATTRIBUTE  WHERE DEF_PARAM_ID IN ('183','184');
DELETE FROM POLICY_DEF_PARAM WHERE DEF_PARAM_ID  IN ('183','184');

INSERT INTO POLICY_DEF_PARAM (DEF_PARAM_ID, POLICY_DEF_ID, NAME, DESCRIPTION, OPERATION, VALUE1, VALUE2, REPEATS, PARAM_GROUP, HANDLER_LANGUAGE, POLICY_PARAM_HANDLER) VALUES ('184', '100', 'INITIAL_PASSWORD', 'Initial Password configuration', 'select', 'STATIC', 'STATIC,RANDOM', 0, 'PSWD_COMPOSITION', null, null);
INSERT INTO POLICY_ATTRIBUTE (POLICY_ATTR_ID, DEF_PARAM_ID, POLICY_ID, VALUE1, VALUE2, RULE_TEXT, REQUIRED) VALUES ('4201', '184', '4000', 'STATIC', 'STATIC,RANDOM', null, 'Y');

DELETE FROM POLICY_ATTRIBUTE  WHERE DEF_PARAM_ID IN ('185');
DELETE FROM POLICY_DEF_PARAM WHERE DEF_PARAM_ID  IN ('185');

INSERT INTO POLICY_DEF_PARAM (DEF_PARAM_ID, POLICY_DEF_ID, NAME, DESCRIPTION, OPERATION, VALUE1, VALUE2, REPEATS, PARAM_GROUP, HANDLER_LANGUAGE, POLICY_PARAM_HANDLER) VALUES ('185', '100', 'REJECT_WORDS_IN_PSWD', 'Words not allowed in a password', 'boolean', 'false', '', 0, 'PSWD_COMPOSITION', null, 'org.openiam.idm.srvc.pswd.rule.RejectWordsRule');
INSERT INTO POLICY_ATTRIBUTE (POLICY_ATTR_ID, DEF_PARAM_ID, POLICY_ID, VALUE1, VALUE2, RULE_TEXT, REQUIRED) VALUES ('4202', '185', '4000', 'false', '', '', 'Y');

DELETE FROM RECONCILIATION_SITUATION WHERE RECON_CONFIG_ID IN ('1011', '4028b881373b90e501373b92ec180001');
DELETE FROM RECONCILIATION_CONFIG WHERE RECON_CONFIG_ID IN ('1011', '4028b881373b90e501373b92ec180001');

INSERT INTO reconciliation_config VALUES 
('1011','101','','ACTIVE',NULL,NULL,'','recon/LDAPSearchQuery.groovy','N','','PRINCIPAL','uid',NULL,'101','{\"employeeId\":\"not_found\"}',NULL,'(&(objectclass=inetOrgPerson)(uid=*))','recon/UserSearchScript.groovy',NULL,NULL,NULL,'USER',NULL,'','');

INSERT INTO reconciliation_situation VALUES 
('10111','1011','IDM[exists] and Resource[not exists]','DELETE_FROM_IDM','recon/LDAPPopulationScript.groovy',''),
('10112','1011','IDM[not exists] and Resource[exists]','ADD_TO_IDM','recon/LDAPPopulationScript.groovy',''),
('10113','1011','IDM[deleted] and Resource[exists]','NOTHING','recon/LDAPPopulationScript.groovy',''),
('10114','1011','IDM[exists] and Resource[exists]','UPDATE_IDM_FROM_RES','recon/LDAPPopulationScript.groovy','');

IF NOT EXISTS (SELECT * FROM RES WHERE RESOURCE_ID = 'TERM_ACCOUNT_REPORT_107') 
BEGIN
	INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, DESCRIPTION, NAME, DISPLAY_ORDER, URL, MIN_AUTH_LEVEL, IS_PUBLIC,
	  		ADMIN_RESOURCE_ID, RISK, TYPE_ID, COORELATED_NAME) VALUES
		('TERM_ACCOUNT_REPORT_107', 'REPORT', NULL, 'TERM_ACCOUNT_REPORT_107', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'TERMINATING_ACCOUNTS_REPORT');
END;

IF NOT EXISTS (SELECT * FROM REPORT_INFO WHERE REPORT_INFO_ID = '107') 
BEGIN
	INSERT INTO REPORT_INFO (REPORT_INFO_ID, REPORT_NAME, DATASOURCE_FILE_PATH, REPORT_FILE_PATH, BUILT_IN, RESOURCE_ID) VALUES
		('107', 'TERMINATING_ACCOUNTS', 'TerminatingAccountsReport.groovy', 'TerminatingAccountsReport.rptdesign', 'Y', 'TERM_ACCOUNT_REPORT_107');
END;

IF NOT EXISTS (SELECT * FROM REPORT_CRITERIA_PARAMETER WHERE RCP_ID IN ('1071','1072','1073')) 
BEGIN
	INSERT INTO REPORT_CRITERIA_PARAMETER (RCP_ID, REPORT_INFO_ID, PARAM_NAME, PARAM_VALUE, RCPT_ID, PARAM_META_TYPE_ID, 
			IS_MULTIPLE, IS_REQUIRED, CAPTION, DISPLAY_ORDER, REQUEST_PARAMS) VALUES
		('1071', '107', 'ORG_ID', NULL, '1', 'ORGANIZATION', 'N', 'N', 'Organization', 1, NULL),
		('1072', '107', 'PERIOD_START', NULL, '2', NULL, 'N', 'Y', 'Period Start', 2, NULL),
		('1073', '107', 'PERIOD_END', NULL, '2', NULL, 'N', 'N', 'Period End', 3, NULL);
END;

IF NOT EXISTS (SELECT * FROM RES WHERE RESOURCE_ID = 'TOP_ACTIVE_USERS_REPORT_108') 
BEGIN
	INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, DESCRIPTION, NAME, DISPLAY_ORDER, URL, MIN_AUTH_LEVEL, IS_PUBLIC,
	  		ADMIN_RESOURCE_ID, RISK, TYPE_ID, COORELATED_NAME) VALUES
		('TOP_ACTIVE_USERS_REPORT_108', 'REPORT', NULL, 'TOP_ACTIVE_USERS_REPORT_108', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'TOP_ACTIVE_USERS_REPORT');
END;

IF NOT EXISTS (SELECT * FROM REPORT_INFO WHERE REPORT_INFO_ID = '108') 
BEGIN
	INSERT INTO REPORT_INFO (REPORT_INFO_ID, REPORT_NAME, DATASOURCE_FILE_PATH, REPORT_FILE_PATH, BUILT_IN, RESOURCE_ID) VALUES
		('108', 'TOP_ACTIVE_USERS', 'TopActiveUsersReport.groovy', 'TopActiveUsersReport.rptdesign', 'Y', 'TOP_ACTIVE_USERS_REPORT_108');
END;

IF NOT EXISTS (SELECT * FROM REPORT_CRITERIA_PARAMETER WHERE RCP_ID IN ('1081','1082','1083','1084','1085')) 
BEGIN
	INSERT INTO REPORT_CRITERIA_PARAMETER (RCP_ID, REPORT_INFO_ID, PARAM_NAME, PARAM_VALUE, RCPT_ID, PARAM_META_TYPE_ID, 
			IS_MULTIPLE, IS_REQUIRED, CAPTION, DISPLAY_ORDER, REQUEST_PARAMS) VALUES
		('1081', '108', 'ORG_ID', NULL, '1', 'ORGANIZATION', 'N', 'N', 'Organization', 1, NULL),
		('1082', '108', 'ROLE_ID', NULL, '1', 'ROLE', 'N', 'N', 'Role', 2, NULL),
		('1083', '108', 'PERIOD_START', NULL, '2', NULL, 'N', 'Y', 'Period Start', 3, NULL),
		('1084', '108', 'PERIOD_END', NULL, '2', NULL, 'N', 'N', 'Period End', 4, NULL),
		('1085', '108', 'RECORDS', NULL, '3', NULL, 'N', 'N', 'Total records', 5, NULL);
END;

UPDATE POLICY_DEF_PARAM SET OPERATION = 'RANGE' WHERE DEF_PARAM_ID='129';
UPDATE POLICY_DEF_PARAM SET VALUE1 = '1' WHERE DEF_PARAM_ID='129';
UPDATE POLICY_DEF_PARAM SET VALUE2 = '5' WHERE DEF_PARAM_ID='129';
UPDATE POLICY_ATTRIBUTE SET VALUE1 = '1' WHERE DEF_PARAM_ID='129';
UPDATE POLICY_ATTRIBUTE SET VALUE2 = '5' WHERE DEF_PARAM_ID='129';
UPDATE POLICY_ATTRIBUTE SET REQUIRED = 'N' WHERE DEF_PARAM_ID='129';

IF NOT EXISTS (SELECT * FROM REPORT_PARAMETER_METATYPE WHERE PARAM_METATYPE_ID = 'RISK') 
BEGIN
	INSERT INTO REPORT_PARAMETER_METATYPE (PARAM_METATYPE_ID, PARAM_METATYPE_NAME, IS_MULTIPLE) VALUES ('RISK', 'Risk', 'N');
END;

IF NOT EXISTS (SELECT * FROM RES WHERE RESOURCE_ID = 'USER_ACCESS_REPORT_109') 
BEGIN
	INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, DESCRIPTION, NAME, DISPLAY_ORDER, URL, MIN_AUTH_LEVEL, IS_PUBLIC,
	  		ADMIN_RESOURCE_ID, RISK, TYPE_ID, COORELATED_NAME) VALUES
		('USER_ACCESS_REPORT_109', 'REPORT', NULL, 'USER_ACCESS_REPORT_109', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'USER_ACCESS_REPORT');
END;

IF NOT EXISTS (SELECT * FROM REPORT_INFO WHERE REPORT_INFO_ID = '109') 
BEGIN
	INSERT INTO REPORT_INFO (REPORT_INFO_ID, REPORT_NAME, DATASOURCE_FILE_PATH, REPORT_FILE_PATH, BUILT_IN, RESOURCE_ID) VALUES
		('109', 'USER_ACCESS_REPORT', 'UserAccessReport.groovy', 'UserAccessReport.rptdesign', 'Y', 'USER_ACCESS_REPORT_109');
END;

IF NOT EXISTS (SELECT * FROM REPORT_CRITERIA_PARAMETER WHERE RCP_ID IN ('1091','1092','1093','1094','1095')) 
BEGIN
	INSERT INTO REPORT_CRITERIA_PARAMETER (RCP_ID, REPORT_INFO_ID, PARAM_NAME, PARAM_VALUE, RCPT_ID, PARAM_META_TYPE_ID, 
			IS_MULTIPLE, IS_REQUIRED, CAPTION, DISPLAY_ORDER, REQUEST_PARAMS) VALUES
		('1091', '109', 'ORG_ID', NULL, '1', 'ORGANIZATION', 'N', 'N', 'Organization', 1, NULL),
		('1092', '109', 'ROLE_ID', NULL, '1', 'ROLE', 'N', 'N', 'Role', 2, NULL),
		('1093', '109', 'RISK', NULL, '1', 'RISK', 'N', 'N', 'Risk', 3, NULL),
		('1094', '109', 'MANAGED_SYS_ID', NULL, '1', 'MANAGED_SYSTEM', 'N', 'N', 'Managed System', 4, NULL),
		('1095', '109', 'USER_ID', NULL, '1', 'USER', 'N', 'N', 'User', 5, NULL);
END;

INSERT INTO REPORT_CRITERIA_PARAMETER (RCP_ID, REPORT_INFO_ID, PARAM_NAME, PARAM_VALUE, RCPT_ID, PARAM_META_TYPE_ID, 
		IS_MULTIPLE, IS_REQUIRED, CAPTION, DISPLAY_ORDER, REQUEST_PARAMS)
VALUES ('1025', '102', 'ORG_ID', NULL, '1', 'ORGANIZATION', 'N', 'N', 'Organization', '5', NULL);

IF NOT EXISTS (SELECT * FROM RES WHERE RESOURCE_ID = 'PASSWORD_CHANGES_REPORT_110') 
BEGIN
	INSERT INTO RES (RESOURCE_ID, RESOURCE_TYPE_ID, DESCRIPTION, NAME, DISPLAY_ORDER, URL, MIN_AUTH_LEVEL, IS_PUBLIC,
	  		ADMIN_RESOURCE_ID, RISK, TYPE_ID, COORELATED_NAME) VALUES
		('PASSWORD_CHANGES_REPORT_110', 'REPORT', NULL, 'PASSWORD_CHANGES_REPORT_110', NULL, NULL, NULL, 'Y', NULL, NULL, NULL, 'PASSWORD_CHANGES_REPORT');
END;

IF NOT EXISTS (SELECT * FROM REPORT_INFO WHERE REPORT_INFO_ID = '110') 
BEGIN
	INSERT INTO REPORT_INFO (REPORT_INFO_ID, REPORT_NAME, DATASOURCE_FILE_PATH, REPORT_FILE_PATH, BUILT_IN, RESOURCE_ID) VALUES
		('110', 'PASSWORD_CHANGES_REPORT', 'PasswordChangesReport.groovy', 'PasswordChangesReport.rptdesign', 'Y', 'PASSWORD_CHANGES_REPORT_110');
END;

IF NOT EXISTS (SELECT * FROM REPORT_CRITERIA_PARAMETER WHERE RCP_ID IN ('1101','1102','1103')) 
BEGIN
	INSERT INTO REPORT_CRITERIA_PARAMETER (RCP_ID, REPORT_INFO_ID, PARAM_NAME, PARAM_VALUE, RCPT_ID, PARAM_META_TYPE_ID, 
			IS_MULTIPLE, IS_REQUIRED, CAPTION, DISPLAY_ORDER, REQUEST_PARAMS) VALUES
		('1101', '110', 'ORG_ID', NULL, '1', 'ORGANIZATION', 'N', 'N', 'Organization', 1, NULL),
		('1102', '110', 'PERIOD_START', NULL, '2', NULL, 'N', 'Y', 'Period Start', 2, NULL),
		('1103', '110', 'PERIOD_END', NULL, '2', NULL, 'N', 'N', 'Period End', 3, NULL);
END;


insert into SYNCH_CONFIG(SYNCH_CONFIG_ID,NAME,STATUS,SYNCH_SRC,FILE_NAME,MANAGED_SYS_ID,SYNCH_TYPE,PROCESS_RULE,VALIDATION_RULE,TRANSFORMATION_RULE,MATCH_FIELD_NAME,CUSTOM_MATCH_ATTR,USE_POLICY_MAP,USE_TRANSFORM_SCRIPT,POLICY_MAP_BEFORE_TRANSFORM,USE_SYSTEM_PATH,SEARCH_SCOPE) 
 values('csv_users_sample_id','CSV to IDM Users Sample','ACTIVE','CSV','test-user.csv','0','FULL','USER','sync/idmapps/csv/CSVSampleValidationScript.groovy','sync/idmapps/csv/CSVSampleTransformationScript.groovy','EMPLOYEE_ID','EMPLOYEE_ID','N','Y','Y','Y','2'); 

-- add WIN02-POWERSHELL-AD connector
insert into PROVISION_CONNECTOR(CONNECTOR_ID,NAME,METADATA_TYPE_ID,STD_COMPLIANCE_LEVEL,CLIENT_COMM_PROTOCOL,SERVICE_URL,SERVICE_NAMESPACE,SERVICE_PORT,SERVICE_WSDL,CLASS_NAME,HOST,PORT,CONNECTOR_INTERFACE)
values('powershell_ad_rem_connector_id','AD Win02 Remote','RemoteConnector',null,'CLEAR','win02.openiamdemo.com/PowershellConnectorAD/PowershellConnector.svc','urn:idm.openiam.org/spml2/service','443',null,null,null,null,'REMOTE');

insert into MANAGED_SYS(MANAGED_SYS_ID,NAME,DESCRIPTION,STATUS,CONNECTOR_ID,HOST_URL,APPL_URL,PORT,COMM_PROTOCOL,USER_ID, PSWD,START_DATE,END_DATE, RESOURCE_ID,PRIMARY_REPOSITORY,SECONDARY_REPOSITORY_ID,ALWAYS_UPDATE_SECONDARY,RES_DEPENDENCY, ADD_HNDLR, MODIFY_HNDLR, DELETE_HNDLR, SETPASS_HNDLR, SUSPEND_HNDLR,SEARCH_HNDLR,LOOKUP_HNDLR,TEST_CONNECTION_HNDLR,RECONCILE_RESOURCE_HNDLR,HNDLR_5,DRIVER_URL,CONNECTION_STRING,SEARCH_SCOPE)
values('active_dir_win02_managed_sys_id','AD Win02 [Remote Connector]','','ACTIVE','powershell_ad_rem_connector_id', 'LDAP://win02.ad.openiamdemo.info', NULL, NULL, '', 'AD\Administrator', '=tdWk2eqV8P',NULL, NULL, '8a70a63f3f079e58013f0e9e8a160053', NULL, '', NULL, NULL, 'ADPowershell.ps1', 'ADPowershell.ps1','ADPowershell.ps1', 'ADPowershell.ps1', 'ADPowershell.ps1', 'ADPowershell.ps1', 'ADPowershell.ps1', 'ADPowershell.ps1', 'ADPowershell.ps1', '', '', '',2);

insert into MANAGED_SYS_RULE(MANAGED_SYS_RULE_ID,MANAGED_SYS_ID,MANAGED_SYS_RULE_NAME,MANAGED_SYS_RULE_VALUE)
values('ad_win02_managed_sys_rule_id', 'active_dir_win02_managed_sys_id', 'SamAccountName', 'provision/ad/sAMAccount.groovy');

insert into MNG_SYS_OBJECT_MATCH(OBJECT_SEARCH_ID,MANAGED_SYS_ID,OBJECT_TYPE,MATCH_METHOD,BASE_DN,SEARCH_BASE_DN,SEARCH_FILTER,KEY_FIELD)
values('ad_win02_mng_sys_obj_match_0_id', 'active_dir_win02_managed_sys_id', 'USER', NULL, 'ou=idm-test,dc=ad,dc=openiamdemo,dc=info', 'ou=idm-test,dc=ad,dc=openiamdemo,dc=info', '', 'sAMAccountName');

insert into MNG_SYS_OBJECT_MATCH(OBJECT_SEARCH_ID,MANAGED_SYS_ID,OBJECT_TYPE,MATCH_METHOD,BASE_DN,SEARCH_BASE_DN,SEARCH_FILTER,KEY_FIELD)
values('ad_win02_mng_sys_obj_match_1_id', 'active_dir_win02_managed_sys_id', 'GROUP', NULL, 'ou=idm-test,dc=ad,dc=openiamdemo,dc=info', 'ou=idm-test,dc=ad,dc=openiamdemo,dc=info', '', 'sAMAccountName');

insert into RES(RESOURCE_ID,RESOURCE_TYPE_ID,DESCRIPTION,NAME,DISPLAY_ORDER,URL,MIN_AUTH_LEVEL,IS_PUBLIC)
values('active_dir_win02_mng_sys_res_id', 'MANAGED_SYS', NULL, 'RES_AD_WIN02_REMOTE', '0', NULL, NULL, 'Y');


insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f13d3e2013f13ecc1d40005', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'PRINCIPAL', 'sAMAccountName', NULL, NULL, '8a70a63f3f13d3e2013f13ecc1cc0004', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f13d3e2013f13ecf5f8000b', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'SamAccountName', NULL, NULL, '8a70a63f3f13d3e2013f13ecf5f1000a', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1eb31c14002a', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'Surname', NULL, NULL, '8a70a63f3f1c34b4013f1eb31bf20029', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1eb432220034', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'GivenName', NULL, NULL, '8a70a63f3f1c34b4013f1eb432050033', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1eb4f2470040', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'DisplayName', NULL, NULL, '8a70a63f3f1c34b4013f1eb4f22a003f', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1eb5a40e004e', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'HomeDirectory', NULL, NULL, '8a70a63f3f1c34b4013f1eb5a3ec004d', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1eb6ee5e006a', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'Path', NULL, NULL, '8a70a63f3f1c34b4013f1eb6ee580069', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1eb7babd007c', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'ProfilePath', NULL, NULL, '8a70a63f3f1c34b4013f1eb7bab7007b', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ebd84a10090', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'HomeDrive', NULL, NULL, '8a70a63f3f1c34b4013f1ebd849b008f', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ebe819b00a6', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'ScriptPath', NULL, NULL, '8a70a63f3f1c34b4013f1ebe819500a5', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ebed6df00be', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'Company', NULL, NULL, '8a70a63f3f1c34b4013f1ebed6d800bd', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ebf472300d8', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'Initials', NULL, NULL, '8a70a63f3f1c34b4013f1ebf471e00d7', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ebf984b00f4', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'Department', NULL, NULL, '8a70a63f3f1c34b4013f1ebf984500f3', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ec143510112', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'Title', NULL, NULL, '8a70a63f3f1c34b4013f1ec1434c0111', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ec2f0730132', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'UserPrincipalName', NULL, NULL, '8a70a63f3f1c34b4013f1ec2f06e0131', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ec6c7a70154', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'StreetAddress', NULL, NULL, '8a70a63f3f1c34b4013f1ec6c7a30153', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ec7fa1b0178', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'City', NULL, NULL, '8a70a63f3f1c34b4013f1ec7fa170177', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ec88057019e', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'State', NULL, NULL, '8a70a63f3f1c34b4013f1ec8803d019d', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ec996af01c6', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'PostalCode', NULL, NULL, '8a70a63f3f1c34b4013f1ec996a001c5', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1eca30fb01f0', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'OfficePhone', NULL, NULL, '8a70a63f3f1c34b4013f1eca30f601ef', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1eca8128021c', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'Name', NULL, NULL, '8a70a63f3f1c34b4013f1eca8122021b', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1eccbd77024a', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'AccountPassword', NULL, NULL, '8a70a63f3f1c34b4013f1eccbd720249', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ecd3a2c027a', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'EmployeeID', NULL, NULL, '8a70a63f3f1c34b4013f1ecd3a280279', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ecf05b002ac', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'Manager', NULL, NULL, '8a70a63f3f1c34b4013f1ecf05ac02ab', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ecf6bce02e0', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'Office', NULL, NULL, '8a70a63f3f1c34b4013f1ecf6bc902df', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f1c34b4013f1ed092a80348', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'USER', 'EmailAddress', NULL, NULL, '8a70a63f3f1c34b4013f1ed0926e0347', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);
insert into ATTRIBUTE_MAP(ATTRIBUTE_MAP_ID,MANAGED_SYS_ID,RESOURCE_ID,MAP_FOR_OBJECT_TYPE,ATTRIBUTE_NAME,TARGET_ATTRIBUTE_NAME,AUTHORITATIVE_SRC,ATTRIBUTE_POLICY_ID,RULE_TEXT,STATUS,START_DATE,END_DATE,STORE_IN_IAMDB,DATA_TYPE,DEFAULT_VALUE,SYNCH_CONFIG_ID)
values('8a70a63f3f5841b5013f587586110023', 'active_dir_win02_managed_sys_id', 'active_dir_win02_mng_sys_res_id', 'EMAIL', 'Enabled', NULL, NULL, '8a70a63f3f5841b5013f5875860a0022', NULL, 'ACTIVE', NULL, NULL, NULL, 'STRING', NULL, NULL);


INSERT INTO recon_res_attr_map (RECON_RES_ATTR_MAP_ID, ATTR_POLICY_ID, DEF_RECON_ATTR_MAP_ID) VALUES ('8a70a63f3f13d3e2013f13ecc1cc0004','4630',NULL),('8a70a63f3f13d3e2013f13ecf5f1000a','8a70a63f3f5841b5013f585def970003',NULL),('8a70a63f3f1c34b4013f1eb31bf20029','4506',NULL),('8a70a63f3f1c34b4013f1eb432050033','4631',NULL),('8a70a63f3f1c34b4013f1eb4f22a003f','4517',NULL),('8a70a63f3f1c34b4013f1eb5a3ec004d','4636',NULL),('8a70a63f3f1c34b4013f1eb6ee580069','4633',NULL),('8a70a63f3f1c34b4013f1eb7bab7007b','4635',NULL),('8a70a63f3f1c34b4013f1ebd849b008f','4637',NULL),('8a70a63f3f1c34b4013f1ebe819500a5','4639',NULL),('8a70a63f3f1c34b4013f1ebed6d800bd','4640',NULL),('8a70a63f3f1c34b4013f1ebf471e00d7','4642',NULL),('8a70a63f3f1c34b4013f1ebf984500f3','4643',NULL),('8a70a63f3f1c34b4013f1ec1434c0111','4645',NULL),('8a70a63f3f1c34b4013f1ec2f06e0131','297ec33c3ced62d2013ced83e3640086',NULL),('8a70a63f3f1c34b4013f1ec6c7a30153','297ec33c3ced62d2013ced8547880097',NULL),('8a70a63f3f1c34b4013f1ec7fa170177','297ec33c3ced62d2013ced8647c100a9',NULL),('8a70a63f3f1c34b4013f1ec8803d019d','297ec33c3ced62d2013ced87182100bc',NULL),('8a70a63f3f1c34b4013f1ec996a001c5','297ec33c3ced62d2013ced883c3e00d0',NULL),('8a70a63f3f1c34b4013f1eca30f601ef','4511',NULL),('8a70a63f3f1c34b4013f1eca8122021b','4501',NULL),('8a70a63f3f1c34b4013f1eccbd720249','4563',NULL),('8a70a63f3f1c34b4013f1ecd3a280279','4543',NULL),('8a70a63f3f1c34b4013f1ecf05ac02ab','297ec33c3ced62d2013ced883c3f00e0',NULL),('8a70a63f3f1c34b4013f1ecf6bc902df','4503',NULL),('8a70a63f3f1c34b4013f1ed0926e0347','4540',NULL),('8a70a63f3f5841b5013f5875860a0022','8a70a63f3f5841b5013f586a9743001d',NULL);

INSERT INTO policy VALUES ('297ec33c3ced62d2013ced83e3640086','104','ad-userPrincipalName','User principal name',1,NULL,NULL,NULL,NULL,'provision/ad/userPrincipalName.groovy',NULL,1),('297ec33c3ced62d2013ced8547880097','104','ad-streetAddress','Street Address',1,'2013-02-18 17:36:40','3000','2013-02-18 17:39:54',NULL,'provision/ad/street.groovy',NULL,1),('297ec33c3ced62d2013ced8647c100a9','104','ad-city','City',1,'2013-02-18 17:36:40','3000','2013-02-18 17:39:54',NULL,'provision/ad/city.groovy',NULL,1),('297ec33c3ced62d2013ced87182100bc','104','ad-state','State',1,'2013-02-18 17:38:39','3000','2013-02-18 17:39:54',NULL,'provision/ad/state.groovy',NULL,1),('297ec33c3ced62d2013ced883c3e00d0','104','ad-zip','Postal code',1,'2013-02-18 17:39:54','3000','2013-02-18 17:39:54',NULL,'provision/ad/zip.groovy',NULL,1),('297ec33c3ced62d2013ced883c3f00e0','104','ad-manager','Manager',1,'2013-02-18 17:39:54','3000','2013-02-18 17:39:54',NULL,'provision/ad/manager.groovy',NULL,1),('8a70a63f3f5841b5013f586a9743001d','104','ad-status','Status',1,NULL,NULL,NULL,NULL,'provision/ad/adStatus.groovy',NULL,NULL);
INSERT INTO policy VALUES ('8a70a63f3f5841b5013f585def970003','104','ad-sAMAccountName-NP','ad-sAMAccountName-NoPrincipal',1,NULL,NULL,NULL,NULL,'provision/ad/win02/sAMAccountName-NP.groovy',NULL,NULL);

-- Reconciliation config
insert into RECONCILIATION_CONFIG(RECON_CONFIG_ID, RESOURCE_ID, STATUS, TARGET_SYS_MATCH_SCRIPT, MANUAL_RECONCILIATION_FLAG, MATCH_FIELD_NAME, CUSTOM_MATCH_ATTR, MANAGED_SYS_ID, SEARCH_FILTER, TARGET_SYS_SEARCH_FILTER, MATCH_SCRIPT, RECON_CUSTOM_PROCESSOR, RECON_TYPE) 
values('297e25c047cf76fc0147cfb2874c0002', 'active_dir_win02_mng_sys_res_id', 'ACTIVE', '', 'N', 'PRINCIPAL', 'cn', 'active_dir_win02_managed_sys_id', '', '(objectClass=group)', 'recon/GroupSearchScript.groovy', 'recon/GroupProcessor.groovy', 'GROUP');
insert into RECONCILIATION_SITUATION(RECON_SITUATION_ID,RECON_CONFIG_ID,SITUATION,SITUATION_RESP) 
values('297e25c047cf76fc0147cfb2874f0003','297e25c047cf76fc0147cfb2874c0002','IDM[deleted] and Resource[exists]','NOTHING');
insert into RECONCILIATION_SITUATION(RECON_SITUATION_ID,RECON_CONFIG_ID,SITUATION,SITUATION_RESP) 
values('297e25c047cf76fc0147cfb287510004','297e25c047cf76fc0147cfb2874c0002','IDM[exists] and Resource[exists]','NOTHING');
insert into RECONCILIATION_SITUATION(RECON_SITUATION_ID,RECON_CONFIG_ID,SITUATION,SITUATION_RESP) 
values('297e25c047cf76fc0147cfb287510005','297e25c047cf76fc0147cfb2874c0002','IDM[not exists] and Resource[exists]','ADD_TO_IDM');
insert into RECONCILIATION_SITUATION(RECON_SITUATION_ID,RECON_CONFIG_ID,SITUATION,SITUATION_RESP) 
values('297e25c047cf76fc0147cfb287510006','297e25c047cf76fc0147cfb2874c0002','IDM[exists] and Resource[not exists]','ADD_TO_RES');


insert into RECONCILIATION_CONFIG(RECON_CONFIG_ID, RESOURCE_ID, STATUS, TARGET_SYS_MATCH_SCRIPT, MANUAL_RECONCILIATION_FLAG, MATCH_FIELD_NAME, CUSTOM_MATCH_ATTR, MANAGED_SYS_ID, SEARCH_FILTER, TARGET_SYS_SEARCH_FILTER, MATCH_SCRIPT, RECON_CUSTOM_PROCESSOR, RECON_TYPE) 
values('0000000043567beb014358f5c604028f', 'active_dir_win02_mng_sys_res_id', 'ACTIVE', 'recon/PowershellADSearchQuery.groovy', 'N', 'PRINCIPAL', 'SamAccountName', 'active_dir_win02_managed_sys_id', '{"employeeId": "notexists"}', '(&(objectCategory=person)(objectClass=user)(SamAccountName=*))', 'recon/UserSearchScript.groovy', null, 'USER');
insert into RECONCILIATION_SITUATION(RECON_SITUATION_ID,RECON_CONFIG_ID,SITUATION,SITUATION_RESP,SCRIPT) 
values('0000000043567beb014358f5c6140290','0000000043567beb014358f5c604028f','IDM[deleted] and Resource[exists]','ADD_TO_IDM','recon/PowershellADPopulationScript.groovy');
insert into RECONCILIATION_SITUATION(RECON_SITUATION_ID,RECON_CONFIG_ID,SITUATION,SITUATION_RESP,SCRIPT) 
values('0000000043567beb014358f5c62c0291','0000000043567beb014358f5c604028f','IDM[exists] and Resource[not exists]','DELETE_FROM_IDM','recon/PowershellADPopulationScript.groovy');
insert into RECONCILIATION_SITUATION(RECON_SITUATION_ID,RECON_CONFIG_ID,SITUATION,SITUATION_RESP,SCRIPT) 
values('0000000043567beb014358f5c6360292','0000000043567beb014358f5c604028f','IDM[not exists] and Resource[exists]','ADD_TO_IDM','recon/PowershellADPopulationScript.groovy');
insert into RECONCILIATION_SITUATION(RECON_SITUATION_ID,RECON_CONFIG_ID,SITUATION,SITUATION_RESP,SCRIPT) 
values('0000000043567beb014358f5c6d60293','0000000043567beb014358f5c604028f','IDM[exists] and Resource[exists]','UPDATE_IDM_FROM_RES','recon/PowershellADPopulationScript.groovy');


