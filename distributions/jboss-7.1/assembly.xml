<assembly>
  <id>openiam-distribution-jboss71</id>
  <formats>
    <format>zip</format>
  </formats>
  <moduleSets>
    <moduleSet>
	  <useAllReactorProjects>true</useAllReactorProjects>
	  <includes>
		<include>org.openiam:openiam-reportviewer</include>
		<include>org.openiam:openiam-selfservice-ext</include>
				<include>org.openiam:openiam-selfservice</include>
				<include>org.openiam:openiam-webconsole</include>
		<include>org.openiam:openiam-idm-esb</include>
	  </includes>
      <binaries>
		<outputFileNameMapping>standalone/deployments/${artifact.name}.war</outputFileNameMapping>
		<includeDependencies>false</includeDependencies>
        <unpack>false</unpack>
      </binaries>    
    </moduleSet>
  </moduleSets>
  <fileSets>
    <fileSet>
        	<directory>../configurations/iamconf</directory>
        	<outputDirectory>standalone/iamconf</outputDirectory>
        	<includes>
        		<include>**</include>
        	</includes>
			<excludes>
				<exclude>*.properties</exclude>
			</excludes>
    </fileSet>
    <fileSet>
        	<directory>../configurations/iamscripts</directory>
        	<outputDirectory>standalone/iamscripts</outputDirectory>
        	<includes>
        		<include>**</include>
        	</includes>
    </fileSet>  
	<fileSet>
        	<directory>../configurations/jboss71</directory>
        	<outputDirectory>modules</outputDirectory>
        	<includes>
        		<include>**</include>
        	</includes>
    </fileSet> 
    <fileSet>
        	<directory>../configurations/iamconf</directory>
        	<outputDirectory>modules/openiam/conf/main/resources</outputDirectory>
        	<includes>
        		<include>**</include>
        	</includes>
			<excludes>
				<exclude>cayo.dat</exclude>
			</excludes>
    </fileSet>
  </fileSets>
  
</assembly>
